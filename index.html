<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>reveal.js - The HTML Presentation Framework</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/night.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

        <style>
            body {
            /* fallback */
            background-color: #2F2727;
            background-image: url(http://www.rastermedia.com/wp-content/themes/raster/assets/logo.png);
            background-position: bottom right;
            background-repeat: no-repeat;

            /* Safari 4-5, Chrome 1-9 */
            /* Can't specify a percentage size? Laaaaaame. */
            background: -webkit-gradient(radial, center center, 0, center center, 460, from(#749f2c), to(#1b1414));

            /* Safari 5.1+, Chrome 10+ */
            background: -webkit-radial-gradient(circle, #749f2c, #1b1414);

            /* Firefox 3.6+ */
            background: -moz-radial-gradient(circle, #749f2c, #1b1414);

            /* IE 10 */
            background: -ms-radial-gradient(circle, #749f2c, #1b1414);

            /* Opera couldn't do radial gradients, then at some point they started supporting the -webkit- syntax, how it kinda does but it's kinda broken (doesn't do sizing) */
            }
            .reveal {
                background-image: url(logo.png);
                background-position: bottom right;
                background-repeat: no-repeat;
            }
            .stylish-slash {
                color: #f5bb53;
            }
        </style>

		<!-- If the query includes 'print-pdf', include the PDF print sheet -->
		<script>
			if( window.location.search.match( /print-pdf/gi ) ) {
				var link = document.createElement( 'link' );
				link.rel = 'stylesheet';
				link.type = 'text/css';
				link.href = 'css/print/pdf.css';
				document.getElementsByTagName( 'head' )[0].appendChild( link );
			}
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>Shippable Containers</h1>
					<h3>with Docker and Serf</h3>
					<p>
						<small>Created by <a href="http://scottscoble.com">Scott Scoble</a> / <a href="http://twitter.com/lvcodesmith">@lvcodesmith</a></small>
					</p>
				</section>

                <section>
                    <h2>Who am I?</h2>
                    <ul style="list-style: none">
                        <li>Lead Developer at Raster Media</li>
                        <li>Polyglot by curiosity &emsp;&emsp; PHP<span class="stylish-slash">|</span>Python<span class="stylish-slash">|</span>Javascript<span class="stylish-slash">|</span>Go<sup><small class="stylish-slash">next</small></sup></li>
                        <br/>
                        <li>scott@rastermedia.com</li>
                        <li>@lvcodesmith</li>
                    </ul>
                </section>

				<section>
					<h2>What is Docker?</h2>
					<blockquote cite="http://www.docker.com/whatisdocker/">
                        &ldquo;Docker is an open platform for developers and sysadmins to build, ship, and run distributed applications.&rdquo;
					</blockquote>

                    <small><a href="http://docker.io">Docker.io</a></small>

					<aside class="notes">
						Docker is a simple abstraction of the complexities in the linux kernel.  It uses control groups, kernel namespaces, and other
                        kernel features to create the software equivalent of shipping containers.
					</aside>
				</section>

				<section>
					<h2>What is Serf?</h2>
					<blockquote cite="http://www.serfdom.io/intro/">
                        &ldquo;Serf is a tool for cluster membership, failure detection, and orchestration that is decentralized, fault-tolerant and highly available.&rdquo;
					</blockquote>

                    <small><a href="http://serfdom.io">Serfdom.io</a></small>

					<aside class="notes">
						Serf defines itself as a tool for cluster membership, etc., but it is much more.  Its RPC protocol uses MessagePack over TCP which is
                        extremely lightweight and lightning fast.  MessagePack has clients for nearly all languages you may use, including PHP.  I've
                        created a lightweight abstraction of that client to use specifically with the Serf RPC protocol.
					</aside>
				</section>

                <section>
                    <h2>What are we going to build?</h2>
                    <p class="fragment">A cluster of</p>
                    <ol>
                        <li class="fragment">Nginx Load Balancer</li>
                        <li class="fragment">Silex App using PHP-FPM</li>
                        <li class="fragment">MySQL Database</li>
                        <li class="fragment">without them knowing about each other</li>
                    </ol>
                    <span class="fragment">&#8230; at first</span>

                    <aside class="notes">
                        We are going to build &#8230; a cluster with &#8230; an Nginx load balancer &#8230; a Silex application served with PHP-FPM
                        &#8230; and a MySQL database for our application &#8230; and they won't know about each other until they need to
                    </aside>
                </section>

                <section>
                    <h2>Nginx</h2>
                    <p>
                        What does Nginx need to know about the cluster?
                    </p>
                    <ul>
                        <li class="fragment">Where the app servers are</li>
                        <li class="fragment">What site the app server is for</li>
                    </ul>
                </section>

                <section>
                    <section>
                        <h2>Telling Nginx stuff with Serf</h2>
                        <p>
                            When an app server joins the cluster,<br /> update your (Nginx's) config for the site.
                        </p>
                    </section>
                    <section>
                        <h1>How?</h1>
                    </section>
                    <section>
                        <h2>Configure Serf for Nginx</h2>
                        <p>Contents of <span class="highlight-blue">serf.config.json</span> for serf</p>
                        <pre><code data-trim contenteditable style="font-size: 18px; margin-top: 20px;">
{
    "tags": {
        "role": "load-balancer"
    },
    "event_handlers": [
        "/myapp/handle.sh"
    ]
}
                        </code></pre>
                        <p>Contents of handle.sh</p>
                        <pre><code data-trim contenteditable style="font-size: 18px; margin-top: 20px;">
#!/bin/bash
if [ "$SERF_EVENT" = "member-join" ]; then
    /usr/bin/php /myapp/member-join-handler.php
fi
                        </code></pre>

                        <aside class="notes">
                            We will create a config file for the Serf agent, tag it with the role of load balancer and
                            specify the handler for all events is handle.sh.
                            <br/>
                            When we create our Docker container, these paths will make more sense.
                        </aside>
                    </section>
                    <section>
                        <h2></h2>
                    </section>
                </section>

				<section>
					<h2>Themes</h2>
					<p>
						Reveal.js comes with a few themes built in: <br>
						<a href="?#/themes">Default</a> -
						<a href="?theme=sky#/themes">Sky</a> -
						<a href="?theme=beige#/themes">Beige</a> -
						<a href="?theme=simple#/themes">Simple</a> -
						<a href="?theme=serif#/themes">Serif</a> -
						<a href="?theme=night#/themes">Night</a> <br>
						<a href="?theme=moon#/themes">Moon</a> -
						<a href="?theme=solarized#/themes">Solarized</a>
					</p>
					<p>
						<small>
							* Theme demos are loaded after the presentation which leads to flicker. In production you should load your theme in the <code>&lt;head&gt;</code> using a <code>&lt;link&gt;</code>.
						</small>
					</p>
				</section>

				<section>
					<h2>Global State</h2>
					<p>
						Set <code>data-state="something"</code> on a slide and <code>"something"</code>
						will be added as a class to the document element when the slide is open. This lets you
						apply broader style changes, like switching the background.
					</p>
				</section>

				<section data-state="customevent">
					<h2>Custom Events</h2>
					<p>
						Additionally custom events can be triggered on a per slide basis by binding to the <code>data-state</code> name.
					</p>
					<pre><code data-trim contenteditable style="font-size: 18px; margin-top: 20px;">
Reveal.addEventListener( 'customevent', function() {
	console.log( '"customevent" has fired' );
} );
					</code></pre>
				</section>

				<section>
					<section data-background="#007777">
						<h2>Slide Backgrounds</h2>
						<p>
							Set <code>data-background="#007777"</code> on a slide to change the full page background to the given color. All CSS color formats are supported.
						</p>
						<a href="#" class="image navigate-down">
							<img width="178" height="238" src="https://s3.amazonaws.com/hakim-static/reveal-js/arrow.png" alt="Down arrow">
						</a>
					</section>
					<section data-background="https://s3.amazonaws.com/hakim-static/reveal-js/arrow.png">
						<h2>Image Backgrounds</h2>
						<pre><code>&lt;section data-background="image.png"&gt;</code></pre>
					</section>
					<section data-background="https://s3.amazonaws.com/hakim-static/reveal-js/arrow.png" data-background-repeat="repeat" data-background-size="100px">
						<h2>Repeated Image Backgrounds</h2>
						<pre><code style="word-wrap: break-word;">&lt;section data-background="image.png" data-background-repeat="repeat" data-background-size="100px"&gt;</code></pre>
					</section>
				</section>

				<section data-transition="linear" data-background="#4d7e65" data-background-transition="slide">
					<h2>Background Transitions</h2>
					<p>
						Pass reveal.js the <code>backgroundTransition: 'slide'</code> config argument to make backgrounds slide rather than fade.
					</p>
				</section>

				<section data-transition="linear" data-background="#8c4738" data-background-transition="slide">
					<h2>Background Transition Override</h2>
					<p>
						You can override background transitions per slide by using <code>data-background-transition="slide"</code>.
					</p>
				</section>

				<section id="quotes">
					<h2>Clever Quotes</h2>
					<p>
						These guys come in two forms, inline: <q cite="http://searchservervirtualization.techtarget.com/definition/Our-Favorite-Technology-Quotations">
						&ldquo;The nice thing about standards is that there are so many to choose from&rdquo;</q> and block:
					</p>
					<blockquote cite="http://searchservervirtualization.techtarget.com/definition/Our-Favorite-Technology-Quotations">
						&ldquo;For years there has been a theory that millions of monkeys typing at random on millions of typewriters would
						reproduce the entire works of Shakespeare. The Internet has proven this theory to be untrue.&rdquo;
					</blockquote>
				</section>

				<section>
					<h2>Pretty Code</h2>
					<pre><code data-trim contenteditable>
function linkify( selector ) {
  if( supports3DTransforms ) {

    var nodes = document.querySelectorAll( selector );

    for( var i = 0, len = nodes.length; i &lt; len; i++ ) {
      var node = nodes[i];

      if( !node.className ) {
        node.className += ' roll';
      }
    }
  }
}
					</code></pre>
					<p>Courtesy of <a href="http://softwaremaniacs.org/soft/highlight/en/description/">highlight.js</a>.</p>
				</section>

				<section>
					<h2>Intergalactic Interconnections</h2>
					<p>
						You can link between slides internally,
						<a href="#/2/3">like this</a>.
					</p>
				</section>

				<section>
					<section id="fragments">
						<h2>Fragmented Views</h2>
						<p>Hit the next arrow...</p>
						<p class="fragment">... to step through ...</p>
						<ol>
							<li class="fragment"><code>any type</code></li>
							<li class="fragment"><em>of view</em></li>
							<li class="fragment"><strong>fragments</strong></li>
						</ol>

						<aside class="notes">
							This slide has fragments which are also stepped through in the notes window.
						</aside>
					</section>
					<section>
						<h2>Fragment Styles</h2>
						<p>There's a few styles of fragments, like:</p>
						<p class="fragment grow">grow</p>
						<p class="fragment shrink">shrink</p>
						<p class="fragment roll-in">roll-in</p>
						<p class="fragment fade-out">fade-out</p>
						<p class="fragment highlight-red">highlight-red</p>
						<p class="fragment highlight-green">highlight-green</p>
						<p class="fragment highlight-blue">highlight-blue</p>
						<p class="fragment current-visible">current-visible</p>
						<p class="fragment highlight-current-blue">highlight-current-blue</p>
					</section>
				</section>

				<section>
					<h2>Spectacular image!</h2>
					<a class="image" href="http://lab.hakim.se/meny/" target="_blank">
						<img width="320" height="299" src="http://s3.amazonaws.com/hakim-static/portfolio/images/meny.png" alt="Meny">
					</a>
				</section>

				<section>
					<h2>Export to PDF</h2>
					<p>Presentations can be <a href="https://github.com/hakimel/reveal.js#pdf-export">exported to PDF</a>, below is an example that's been uploaded to SlideShare.</p>
					<iframe id="slideshare" src="http://www.slideshare.net/slideshow/embed_code/13872948" width="455" height="356" style="margin:0;overflow:hidden;border:1px solid #CCC;border-width:1px 1px 0;margin-bottom:5px" allowfullscreen> </iframe>
					<script>
						document.getElementById('slideshare').attributeName = 'allowfullscreen';
					</script>
				</section>

				<section>
					<h2>Take a Moment</h2>
					<p>
						Press b or period on your keyboard to enter the 'paused' mode. This mode is helpful when you want to take distracting slides off the screen
						during a presentation.
					</p>
				</section>

				<section>
					<h2>Stellar Links</h2>
					<ul>
						<li><a href="http://slid.es">Try the online editor</a></li>
						<li><a href="https://github.com/hakimel/reveal.js">Source code on GitHub</a></li>
						<li><a href="http://twitter.com/hakimel">Follow me on Twitter</a></li>
					</ul>
				</section>

				<section>
					<h1>THE END</h1>
					<h3>BY Hakim El Hattab / hakim.se</h3>
				</section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: false,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Parallax scrolling
				// parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
				// parallaxBackgroundSize: '2100px 900px',

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
